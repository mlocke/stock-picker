<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Stock Picker - Financial Analysis & Prediction Platform</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
			rel="stylesheet"
		/>
		<style>
			:root {
				--primary-blue: #0066cc;
				--primary-dark: #004499;
				--secondary-green: #00c851;
				--accent-gold: #ffd700;
				--danger-red: #ff4444;
				--text-primary: #1a1a1a;
				--text-secondary: #666666;
				--text-light: #999999;
				--bg-primary: #ffffff;
				--bg-secondary: #f8fafc;
				--bg-dark: #1a1a1a;
				--border-light: #e5e7eb;
				--shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
				--shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
				--shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family:
					"Inter",
					-apple-system,
					BlinkMacSystemFont,
					"Segoe UI",
					sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				overflow-x: hidden;
				position: relative;
			}

			/* Animated background particles */
			.bg-animation {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				pointer-events: none;
				z-index: 1;
			}

			.particle {
				position: absolute;
				background: rgba(255, 255, 255, 0.1);
				border-radius: 50%;
				animation: float 6s ease-in-out infinite;
			}

			.particle:nth-child(1) {
				width: 20px;
				height: 20px;
				left: 10%;
				animation-delay: 0s;
			}
			.particle:nth-child(2) {
				width: 30px;
				height: 30px;
				left: 20%;
				animation-delay: -1s;
			}
			.particle:nth-child(3) {
				width: 15px;
				height: 15px;
				left: 30%;
				animation-delay: -2s;
			}
			.particle:nth-child(4) {
				width: 25px;
				height: 25px;
				left: 40%;
				animation-delay: -3s;
			}
			.particle:nth-child(5) {
				width: 18px;
				height: 18px;
				left: 50%;
				animation-delay: -4s;
			}
			.particle:nth-child(6) {
				width: 35px;
				height: 35px;
				left: 60%;
				animation-delay: -5s;
			}
			.particle:nth-child(7) {
				width: 22px;
				height: 22px;
				left: 70%;
				animation-delay: -6s;
			}
			.particle:nth-child(8) {
				width: 28px;
				height: 28px;
				left: 80%;
				animation-delay: -7s;
			}
			.particle:nth-child(9) {
				width: 16px;
				height: 16px;
				left: 90%;
				animation-delay: -8s;
			}

			@keyframes float {
				0%,
				100% {
					transform: translateY(0px) rotate(0deg);
					opacity: 1;
				}
				33% {
					transform: translateY(-30px) rotate(120deg);
					opacity: 0.8;
				}
				66% {
					transform: translateY(-60px) rotate(240deg);
					opacity: 0.6;
				}
			}

			/* Main container */
			.main-container {
				position: relative;
				z-index: 2;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
			}

			/* Header */
			.header {
				padding: 2rem 1rem;
				text-align: center;
				animation: fadeInDown 1s ease-out;
			}

			.logo {
				display: inline-flex;
				align-items: center;
				gap: 1rem;
				margin-bottom: 1rem;
			}

			.logo-icon {
				width: 60px;
				height: 60px;
				background: linear-gradient(135deg, var(--accent-gold), var(--secondary-green));
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 2rem;
				color: white;
				animation: pulse 2s infinite;
			}

			.logo-text {
				font-size: 2.5rem;
				font-weight: 700;
				color: white;
				text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
			}

			.tagline {
				color: rgba(255, 255, 255, 0.9);
				font-size: 1.2rem;
				font-weight: 300;
				margin-top: 0.5rem;
			}

			/* Hero Section */
			.hero {
				flex: 1;
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 2rem 1rem;
			}

			.hero-content {
				max-width: 1200px;
				width: 100%;
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 4rem;
				align-items: center;
			}

			.hero-text {
				animation: fadeInLeft 1s ease-out 0.3s both;
			}

			.hero-title {
				font-size: 3.5rem;
				font-weight: 700;
				color: white;
				line-height: 1.1;
				margin-bottom: 1.5rem;
				text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
			}

			.hero-subtitle {
				font-size: 1.3rem;
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.6;
				margin-bottom: 2rem;
			}

			.cta-button {
				display: inline-flex;
				align-items: center;
				gap: 0.75rem;
				background: linear-gradient(135deg, var(--secondary-green), var(--primary-blue));
				color: white;
				padding: 1rem 2rem;
				border: none;
				border-radius: 50px;
				font-size: 1.1rem;
				font-weight: 600;
				text-decoration: none;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: var(--shadow-medium);
			}

			.cta-button:hover {
				transform: translateY(-3px);
				box-shadow: var(--shadow-heavy);
			}

			/* Dashboard Preview */
			.dashboard-preview {
				animation: fadeInRight 1s ease-out 0.6s both;
				position: relative;
			}

			.dashboard-mockup {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				border-radius: 20px;
				border: 1px solid rgba(255, 255, 255, 0.2);
				padding: 2rem;
				box-shadow: var(--shadow-heavy);
			}

			.mockup-header {
				display: flex;
				align-items: center;
				gap: 1rem;
				margin-bottom: 1.5rem;
				padding-bottom: 1rem;
				border-bottom: 1px solid rgba(255, 255, 255, 0.2);
			}

			.mockup-dots {
				display: flex;
				gap: 0.5rem;
			}

			.dot {
				width: 12px;
				height: 12px;
				border-radius: 50%;
			}

			.dot:nth-child(1) {
				background: #ff5f57;
			}
			.dot:nth-child(2) {
				background: #ffbd2e;
			}
			.dot:nth-child(3) {
				background: #28ca42;
			}

			.mockup-title {
				color: white;
				font-weight: 600;
				font-family: "JetBrains Mono", monospace;
			}

			.chart-container {
				height: 200px;
				background: linear-gradient(45deg, rgba(0, 200, 83, 0.1), rgba(0, 102, 204, 0.1));
				border-radius: 10px;
				margin-bottom: 1rem;
				position: relative;
				overflow: hidden;
			}

			.chart-line {
				position: absolute;
				top: 50%;
				left: 0;
				width: 100%;
				height: 2px;
				background: var(--secondary-green);
				transform: translateY(-50%);
				animation: chartGrow 2s ease-out 1s both;
			}

			.chart-line::before {
				content: "";
				position: absolute;
				right: 0;
				top: -4px;
				width: 10px;
				height: 10px;
				background: var(--secondary-green);
				border-radius: 50%;
				animation: pulse 2s infinite 3s;
			}

			.metrics-grid {
				display: grid;
				grid-template-columns: repeat(2, 1fr);
				gap: 1rem;
			}

			.metric-card {
				background: rgba(255, 255, 255, 0.1);
				border-radius: 10px;
				padding: 1rem;
				text-align: center;
			}

			.metric-value {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--secondary-green);
				font-family: "JetBrains Mono", monospace;
			}

			.metric-label {
				color: rgba(255, 255, 255, 0.8);
				font-size: 0.9rem;
				margin-top: 0.25rem;
			}

			/* Trust Section */
			.trust-section {
				background: rgba(255, 255, 255, 0.03);
				backdrop-filter: blur(10px);
				border-top: 1px solid rgba(255, 255, 255, 0.1);
				padding: 3rem 1rem;
			}

			.trust-container {
				max-width: 1200px;
				margin: 0 auto;
				text-align: center;
			}

			.trust-title {
				font-size: 2rem;
				font-weight: 600;
				color: white;
				margin-bottom: 2rem;
				animation: fadeInUp 1s ease-out;
			}

			.data-sources {
				display: flex;
				justify-content: center;
				align-items: center;
				gap: 3rem;
				flex-wrap: wrap;
				margin-bottom: 2rem;
			}

			.source-badge {
				background: rgba(255, 255, 255, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.2);
				border-radius: 10px;
				padding: 1rem 1.5rem;
				font-weight: 600;
				color: white;
				font-size: 0.9rem;
				transition: all 0.3s ease;
				animation: fadeInUp 1s ease-out;
			}

			.source-badge:hover {
				background: rgba(255, 255, 255, 0.15);
				transform: translateY(-2px);
			}

			.source-badge:nth-child(1) {
				animation-delay: 0.1s;
			}
			.source-badge:nth-child(2) {
				animation-delay: 0.2s;
			}
			.source-badge:nth-child(3) {
				animation-delay: 0.3s;
			}
			.source-badge:nth-child(4) {
				animation-delay: 0.4s;
			}
			.source-badge:nth-child(5) {
				animation-delay: 0.5s;
			}

			.disclaimer {
				color: rgba(255, 255, 255, 0.7);
				font-size: 0.95rem;
				line-height: 1.5;
				max-width: 800px;
				margin: 0 auto;
			}

			/* Features Section */
			.features {
				background: rgba(255, 255, 255, 0.05);
				backdrop-filter: blur(10px);
				border-top: 1px solid rgba(255, 255, 255, 0.1);
				padding: 4rem 1rem;
			}

			.features-container {
				max-width: 1200px;
				margin: 0 auto;
			}

			.features-title {
				text-align: center;
				font-size: 2.5rem;
				font-weight: 700;
				color: white;
				margin-bottom: 3rem;
				animation: fadeInUp 1s ease-out;
			}

			.features-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 2rem;
			}

			.feature-card {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				border-radius: 15px;
				border: 1px solid rgba(255, 255, 255, 0.2);
				padding: 2rem;
				text-align: center;
				transition: all 0.3s ease;
				animation: fadeInUp 1s ease-out;
			}

			.feature-card:nth-child(1) {
				animation-delay: 0.2s;
			}
			.feature-card:nth-child(2) {
				animation-delay: 0.4s;
			}
			.feature-card:nth-child(3) {
				animation-delay: 0.6s;
			}
			.feature-card:nth-child(4) {
				animation-delay: 0.8s;
			}

			.feature-card:hover {
				transform: translateY(-5px);
				box-shadow: var(--shadow-heavy);
				background: rgba(255, 255, 255, 0.15);
			}

			.feature-icon {
				width: 80px;
				height: 80px;
				margin: 0 auto 1.5rem;
				background: linear-gradient(135deg, var(--primary-blue), var(--secondary-green));
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 2rem;
			}

			.feature-title {
				font-size: 1.5rem;
				font-weight: 600;
				color: white;
				margin-bottom: 1rem;
			}

			.feature-description {
				color: rgba(255, 255, 255, 0.8);
				line-height: 1.6;
			}

			/* Footer */
			.footer {
				text-align: center;
				padding: 2rem 1rem;
				color: rgba(255, 255, 255, 0.6);
				border-top: 1px solid rgba(255, 255, 255, 0.1);
			}

			/* Animations */
			@keyframes fadeInDown {
				from {
					opacity: 0;
					transform: translateY(-30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes fadeInLeft {
				from {
					opacity: 0;
					transform: translateX(-50px);
				}
				to {
					opacity: 1;
					transform: translateX(0);
				}
			}

			@keyframes fadeInRight {
				from {
					opacity: 0;
					transform: translateX(50px);
				}
				to {
					opacity: 1;
					transform: translateX(0);
				}
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes pulse {
				0%,
				100% {
					transform: scale(1);
					box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7);
				}
				50% {
					transform: scale(1.05);
					box-shadow: 0 0 0 10px rgba(255, 215, 0, 0);
				}
			}

			@keyframes chartGrow {
				from {
					width: 0;
				}
				to {
					width: 100%;
				}
			}

			/* Responsive Design */
			@media (max-width: 768px) {
				.hero-content {
					grid-template-columns: 1fr;
					gap: 2rem;
					text-align: center;
				}

				.hero-title {
					font-size: 2.5rem;
				}

				.logo-text {
					font-size: 2rem;
				}

				.features-grid {
					grid-template-columns: 1fr;
				}

				.metrics-grid {
					grid-template-columns: 1fr;
				}

				.data-sources {
					gap: 1.5rem;
				}
			}

			@media (max-width: 480px) {
				.hero-title {
					font-size: 2rem;
				}

				.hero-subtitle {
					font-size: 1.1rem;
				}

				.features-title {
					font-size: 2rem;
				}
			}

			/* Real-time Stock Ticker Styles - TradingView Integration */
			.stock-ticker {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				height: 50px;
				background: linear-gradient(90deg, rgba(0, 0, 0, 0.95) 0%, rgba(26, 26, 26, 0.98) 50%, rgba(0, 0, 0, 0.95) 100%);
				backdrop-filter: blur(10px);
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
				overflow: hidden;
				z-index: 1000;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
			}

			.tradingview-widget-container {
				height: 100%;
				width: 100%;
			}

			.tradingview-widget-container__widget {
				height: 100% !important;
				width: 100% !important;
			}

			/* Adjust main content to account for ticker and loading bar */
			.main-container {
				margin-top: 80px; /* 50px ticker + 30px loading bar */
			}

			/* Custom styling for TradingView widget integration */
			.stock-ticker iframe {
				border: none !important;
				height: 50px !important;
			}

			/* Loading state for ticker - moved below ticker */
			.ticker-loading {
				position: fixed;
				top: 50px; /* Just below the 50px ticker */
				left: 0;
				right: 0;
				height: 30px;
				background: rgba(0, 0, 0, 0.8);
				backdrop-filter: blur(5px);
				display: flex;
				align-items: center;
				justify-content: center;
				color: rgba(255, 255, 255, 0.7);
				font-family: 'JetBrains Mono', monospace;
				font-size: 0.85rem;
				z-index: 999;
				transition: opacity 0.3s ease;
			}
		</style>
	</head>
	<body>
		<div class="bg-animation">
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
			<div class="particle"></div>
		</div>

		<!-- Real-time Stock Ticker with TradingView -->
		<div class="stock-ticker">
			<div class="tradingview-widget-container">
				<div class="tradingview-widget-container__widget"></div>
				<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
				{
					"symbols": [
						{
							"proName": "NASDAQ:AAPL",
							"title": "Apple Inc."
						},
						{
							"proName": "NASDAQ:MSFT",
							"title": "Microsoft Corporation"
						},
						{
							"proName": "NASDAQ:GOOGL",
							"title": "Alphabet Inc."
						},
						{
							"proName": "NASDAQ:AMZN",
							"title": "Amazon.com Inc."
						},
						{
							"proName": "NASDAQ:TSLA",
							"title": "Tesla Inc."
						},
						{
							"proName": "NASDAQ:META",
							"title": "Meta Platforms Inc."
						},
						{
							"proName": "NASDAQ:NVDA",
							"title": "NVIDIA Corporation"
						},
						{
							"proName": "AMEX:SPY",
							"title": "SPDR S&P 500 ETF Trust"
						},
						{
							"proName": "NASDAQ:QQQ",
							"title": "Invesco QQQ Trust"
						},
						{
							"proName": "NYSE:IWM",
							"title": "iShares Russell 2000 ETF"
						}
					],
					"showSymbolLogo": true,
					"isTransparent": true,
					"displayMode": "adaptive",
					"colorTheme": "dark",
					"locale": "en"
				}
				</script>
			</div>
		</div>

		<!-- Loading indicator positioned below ticker -->
		<div class="ticker-loading" id="ticker-loading">
			Loading real-time market data...
		</div>

		<div class="main-container">
			<header class="header">
				<div class="logo">
					<div class="logo-icon">📈</div>
					<div class="logo-text">Stock Picker</div>
				</div>
				<p class="tagline">Advanced Financial Analysis & Stock Prediction Platform</p>
			</header>

			<main class="hero">
				<div class="hero-content">
					<div class="hero-text">
						<h1 class="hero-title">Intelligent Market Analysis</h1>
						<p class="hero-subtitle">
							Harness the power of real-time data, advanced analytics, and machine
							learning to make informed investment decisions. Our platform aggregates
							data from government sources and market APIs to deliver comprehensive
							financial insights.
						</p>
						<a href="#features" class="cta-button">
							<span>🚀</span>
							Explore Platform
						</a>
					</div>
					<div class="dashboard-preview">
						<div class="dashboard-mockup">
							<div class="mockup-header">
								<div class="mockup-dots">
									<div class="dot"></div>
									<div class="dot"></div>
									<div class="dot"></div>
								</div>
								<div class="mockup-title">Live Market Dashboard</div>
							</div>
							<div class="chart-container">
								<div class="chart-line"></div>
							</div>
							<div class="metrics-grid">
								<div class="metric-card">
									<div class="metric-value">+12.4%</div>
									<div class="metric-label">Portfolio Growth</div>
								</div>
								<div class="metric-card">
									<div class="metric-value">89.2%</div>
									<div class="metric-label">Prediction Accuracy</div>
								</div>
								<div class="metric-card">
									<div class="metric-value">$2.4M</div>
									<div class="metric-label">Assets Analyzed</div>
								</div>
								<div class="metric-card">
									<div class="metric-value">Real-time</div>
									<div class="metric-label">Data Feed</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</main>

			<section class="trust-section">
				<div class="trust-container">
					<h2 class="trust-title">Trusted Data Sources</h2>
					<div class="data-sources">
						<div class="source-badge">🏛️ SEC EDGAR</div>
						<div class="source-badge">🏦 Federal Reserve</div>
						<div class="source-badge">📈 Alpha Vantage</div>
						<div class="source-badge">📊 IEX Cloud</div>
						<div class="source-badge">📰 News APIs</div>
					</div>
					<p class="disclaimer">
						Our platform aggregates data exclusively from government agencies and
						licensed financial data providers. All analysis is provided for educational
						and informational purposes only and should not be considered as investment
						advice. Past performance does not guarantee future results.
					</p>
				</div>
			</section>

			<section id="features" class="features">
				<div class="features-container">
					<h2 class="features-title">Platform Capabilities</h2>
					<div class="features-grid">
						<div class="feature-card">
							<div class="feature-icon">📊</div>
							<h3 class="feature-title">Technical Analysis</h3>
							<p class="feature-description">
								Advanced charting with 20+ technical indicators including Moving
								Averages, RSI, MACD, and Bollinger Bands. Real-time pattern
								recognition and signal detection.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">🤖</div>
							<h3 class="feature-title">AI-Powered Analysis</h3>
							<p class="feature-description">
								LSTM neural networks and ensemble methods provide price predictions
								with confidence intervals. Sentiment analysis from news and social
								media feeds.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">⚖️</div>
							<h3 class="feature-title">Fundamental Analysis</h3>
							<p class="feature-description">
								Deep-dive into financial statements, ratios, and peer comparisons.
								Automated screening based on value, growth, and quality metrics.
							</p>
						</div>
						<div class="feature-card">
							<div class="feature-icon">🎯</div>
							<h3 class="feature-title">Portfolio Optimization</h3>
							<p class="feature-description">
								Modern Portfolio Theory implementation with risk-adjusted returns.
								Automated rebalancing alerts and position sizing recommendations.
							</p>
						</div>
					</div>
				</div>
			</section>

			<footer class="footer">
				<p>© 2025 Stock Picker Platform | Educational & Informational Use Only</p>
				<p>✨ Transparency First • 🔒 Government Data Sources • 📚 Educational Focus</p>
				<p style="margin-top: 1rem; font-size: 0.85rem; opacity: 0.8">
					This platform provides analysis tools for educational purposes. All investment
					decisions should be made in consultation with qualified financial advisors. Past
					performance does not guarantee future results.
				</p>
			</footer>
		</div>

		<script>
			// Smooth scrolling for anchor links
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener("click", function (e) {
					e.preventDefault();
					document.querySelector(this.getAttribute("href")).scrollIntoView({
						behavior: "smooth",
					});
				});
			});

			// Add dynamic particle animation based on mouse movement
			document.addEventListener("mousemove", e => {
				const particles = document.querySelectorAll(".particle");
				const mouseX = e.clientX / window.innerWidth;
				const mouseY = e.clientY / window.innerHeight;

				particles.forEach((particle, index) => {
					const speed = (index + 1) * 0.5;
					const x = mouseX * speed;
					const y = mouseY * speed;

					particle.style.transform = `translate(${x}px, ${y}px)`;
				});
			});

			// Add loading animation completion
			window.addEventListener("load", () => {
				document.body.classList.add("loaded");
			});

			// Update metrics with animation
			function animateMetrics() {
				const metrics = document.querySelectorAll(".metric-value");

				metrics.forEach(metric => {
					if (metric.textContent.includes("%")) {
						let start = 0;
						const end = parseFloat(metric.textContent);
						const duration = 2000;
						const increment = end / (duration / 16);

						const timer = setInterval(() => {
							start += increment;
							if (start >= end) {
								start = end;
								clearInterval(timer);
							}
							metric.textContent = start.toFixed(1) + "%";
						}, 16);
					}
				});
			}

			// Trigger metric animation when in view
			const observer = new IntersectionObserver(entries => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						setTimeout(animateMetrics, 1000);
						observer.disconnect();
					}
				});
			});

			observer.observe(document.querySelector(".dashboard-mockup"));

			// Real-time Stock Ticker Integration
			let stockDataCache = new Map();
			let lastUpdateTime = 0;
			
			// TradingView widget callback - handles widget loaded event
			window.onTradingViewWidgetLoad = function() {
				console.log('✅ TradingView ticker widget loaded successfully');
				
				// Hide loading text once widget is loaded
				const loadingElement = document.getElementById('ticker-loading');
				if (loadingElement) {
					loadingElement.style.opacity = '0';
					setTimeout(() => {
						loadingElement.style.display = 'none';
					}, 300);
				}
				
				// Initialize Polygon MCP integration for additional data
				initPolygonMCPIntegration();
			};

			// Polygon MCP Integration for enhanced data
			async function initPolygonMCPIntegration() {
				try {
					// This would integrate with the backend Polygon MCP collector
					console.log('🔄 Initializing Polygon MCP integration for enhanced data...');
					
					// Set up periodic data refresh for our own analytics
					setInterval(refreshMarketData, 30000); // Every 30 seconds
					
					// Initial data load
					await refreshMarketData();
				} catch (error) {
					console.log('⚠️ Polygon MCP integration optional - using TradingView data only');
				}
			}

			async function refreshMarketData() {
				try {
					// This would call our backend endpoint that uses Polygon MCP
					// For now, just log the intention
					console.log('🔄 Refreshing market data via backend API...');
					
					const symbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'TSLA', 'META', 'NVDA', 'SPY'];
					
					// Future: Replace with actual backend call
					// const response = await fetch('/api/market-data/real-time', {
					//     method: 'POST',
					//     headers: { 'Content-Type': 'application/json' },
					//     body: JSON.stringify({ symbols })
					// });
					// const data = await response.json();
					
					lastUpdateTime = Date.now();
				} catch (error) {
					console.log('📊 Using TradingView data as primary source');
				}
			}

			// Market data event handlers
			document.addEventListener('DOMContentLoaded', function() {
				// Set up TradingView widget monitoring
				const observer = new MutationObserver(function(mutations) {
					mutations.forEach(function(mutation) {
						if (mutation.type === 'childList') {
							const iframe = document.querySelector('.stock-ticker iframe');
							if (iframe) {
								console.log('📈 Real-time ticker iframe loaded');
								
								// Hide loading text when iframe is detected
								const loadingElement = document.getElementById('ticker-loading');
								if (loadingElement) {
									loadingElement.style.opacity = '0';
									setTimeout(() => {
										loadingElement.style.display = 'none';
									}, 300);
								}
								
								observer.disconnect();
							}
						}
					});
				});

				observer.observe(document.querySelector('.stock-ticker'), {
					childList: true,
					subtree: true
				});
				
				// Fallback: hide loading text after 10 seconds regardless
				setTimeout(() => {
					const loadingElement = document.getElementById('ticker-loading');
					if (loadingElement && loadingElement.style.display !== 'none') {
						loadingElement.style.opacity = '0';
						setTimeout(() => {
							loadingElement.style.display = 'none';
						}, 300);
					}
				}, 10000);
			});
		</script>
	</body>
</html>
